{"version":3,"file":"./assets_js_slider_js.js","mappings":"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","sources":["webpack://assignment1/./assets/js/slider.js"],"sourcesContent":["export default function slider() {\n\n    const blockLeft = document.getElementById('block-left');\n    const blockMain = document.getElementById('block-main');\n    const blockRight = document.getElementById('block-right');\n\n    const images = {\n        0: 'blobid0.png', 1: 'blobid1.png', 2: 'blobid2.png', 3: 'blobid3.png', 4: 'blobid4.png'\n    }\n\n    const count = Object.keys(images).length;\n    let currentImageIndex = 1;\n\n    Element.prototype.changeBackground = function (imageIndex) {\n        this.style.backgroundImage = `url(assets/images/${images[imageIndex]})`;\n    }\n\n    blockLeft.changeBackground(0);\n    blockMain.changeBackground(1);\n    blockRight.changeBackground(2);\n\n    blockMain.onclick = () => document.location.href = `image.html?id=${images[currentImageIndex]}`;\n\n    blockLeft.onclick = () => changeImageWithAnimation(currentImageIndex - 1);\n    blockRight.onclick = () => changeImageWithAnimation(currentImageIndex + 1);\n\n    let timeout = undefined;\n\n    function changeImageWithAnimation(expectedIndex) {\n        clearTimeout(timeout);\n\n        currentImageIndex = mod(expectedIndex, count);\n\n        blockLeft.changeBackground(mod(currentImageIndex - 1, count));\n        blockMain.changeBackground(currentImageIndex);\n        blockRight.changeBackground(mod(currentImageIndex + 1, count));\n\n        blockMain.classList.remove(\"fade-in\");\n        timeout = setTimeout(() => {\n            blockMain.classList.add(\"fade-in\");\n            timeout = setTimeout(() => blockMain.classList.remove(\"fade-in\"), 1000);\n        }, 12)\n    }\n\n    function mod(n, m) {\n        return ((n % m) + m) % m;\n    }\n\n    /*\n        Favourites block\n     */\n    let counter = 0;\n    let addToFavourites = document.querySelector('.buttons').children[0];\n    let RemoveFromFavourites = document.querySelector('.buttons').children[1];\n\n    addToFavourites.onclick = () => {\n        if (counter + 1 === 6) {\n            document.querySelector('.message').style.display = 'block';\n            return;\n        }\n        let elem = document.createElement('div');\n        elem.innerHTML = `<img width='50px' height='50px' src='assets/images/${images[currentImageIndex]}'>`;\n        document.querySelector('.favorites').insertAdjacentElement('beforeend', elem);\n        counter++;\n    }\n\n    RemoveFromFavourites.onclick = () => {\n        let children = document.querySelector('.favorites').children;\n        if (children.length > 0) {\n            children[children.length - 1].remove();\n            counter -= 1;\n        }\n    }\n\n    /*\n        Message block\n     */\n    let clear = document.querySelector('.message').querySelector('.buttons').children[0];\n    let close = document.querySelector('.message').querySelector('.buttons').children[1];\n\n    clear.onclick = () => {\n        counter = 0;\n        document.querySelector('.message').style.display = 'none';\n        document.querySelector('.favorites').innerHTML = '';\n    }\n\n    close.onclick = () => document.querySelector('.message').style.display = 'none';\n}\n"],"names":["slider","blockLeft","document","getElementById","blockMain","blockRight","images","count","Object","keys","length","currentImageIndex","Element","prototype","changeBackground","imageIndex","style","backgroundImage","onclick","location","href","changeImageWithAnimation","timeout","undefined","expectedIndex","clearTimeout","mod","classList","remove","setTimeout","add","n","m","counter","addToFavourites","querySelector","children","RemoveFromFavourites","display","elem","createElement","innerHTML","insertAdjacentElement","clear","close"],"sourceRoot":""}